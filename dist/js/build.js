function getData(e,a,t){var i=new XMLHttpRequest;i.onload=function(){if(200===i.status){var e=i.responseText,a=JSON.parse(e);t(null,a)}},i.onerror=function(){var e=new Error("XHR failed");t(e,null)},i.open(e,a,!0),i.send(null)}function TemplateError(e){this.name="Template Error",this.message=e||"prop is undefined"}function Template(e){this.template=e}function menu_toggle(e){e.classList.toggle("show")}function showNews(){getData("GET","./data.json",function(e,a){e?alert(e.message):newsTemplate.render(a,function(e,a){if(e)throw e;console.log(a),newsWrap.insertAdjacentHTML("beforeend",a)})})}function plusDivs(e){showDivs(slideIndex+=e)}function showDivs(e){var a,t=document.getElementsByClassName("slide");for(e>t.length&&(slideIndex=1),e<1&&(slideIndex=t.length),a=0;a<t.length;a++)t[a].style.display="none";t[slideIndex-1].style.display="flex"}TemplateError.prototype=Object.create(Error.prototype),Template.prototype.render=function(e,a){if(Array.isArray(e)){var t="",i=this;e.forEach(function(s,n){var l=i.template.join("\n").replace(/\{{(.+?)\}}/gi,function(e,t,i){if(s[t.trim()])return s[t.trim()];var n=new TemplateError(t.trim()+" is undefined");a(n,null)});t+=l,n>=e.length-1&&a(null,t)})}else{t=this.template.join("\n").replace(/\{{(.+?)\}}/gi,function(t,i,s){if(e[i.trim()])return e[i.trim()];var n=new TemplateError(i.trim()+" is undefined");a(n,null)});a(null,t)}};var newsWrap=document.getElementById("news-wrapper"),newsTemplate=new Template(['<div class="news-item">','<a href="#">','<img class="news-image" src="{{ image }}" alt="inf">',"</a>",'<a class="item-title" href="#">',"<h4>{{ title }}</h4>","</a>",'<p class="item-description">{{ text }}</p>',"</div>"]);newsWrap&&getData("GET",ROOT="./data.json",function(e,a){e?alert(e.message):(newsWrap.innerHTML='<img src="../img/preloader.gif" alt="preloader">',setTimeout(function(){newsTemplate.render(a,function(e,a){if(e)throw e;newsWrap.innerHTML=a})},3e3))});var slideIndex=1,sliderWrap=document.getElementById("slider");if(sliderWrap){var ROOT="data/slider.json",sliderTemplate=new Template(['<div class="slide row">','<div class="col-sm-7 col-xs-12">','<img class="slide-image" src="{{ image }}" alt="">',"</div>",'<div class="col-sm-5 col-xs-12">','<h3 class="slide-title">{{ title }}</h3>','<p class="slide-description">{{ text }}</p>','<div class="nav-carousel">','<button type="button" class="prev" onclick="plusDivs(-1)">&#10094;</button>','<button type="button" class="next" onclick="plusDivs(1)">&#10095;</button>',"</div>","</div>","</div>"]);getData("GET",ROOT,function(e,a){e?alert(e.message):sliderTemplate.render(a,function(e,a){if(e)throw e;sliderWrap.innerHTML=a,showDivs(slideIndex)})})}var mediaWrap=document.getElementById("media-blocks");if(mediaWrap){var ROOT="data/media.json",mediaTemplate=new Template(["<div>",'<a class="madia-title" href="#">',"<h3>{{ title }}</h3>","</a>",'<div class="media-info">','<span class="date-media">{{ date }}</span>',"</div>",'<div class="media-content">','<iframe src="{{ src }}" width="560" height="315" frameborder="0" allowfullscreen></iframe>',"</div>",'<div class="tags">',"<div>Мітки:</div>",'<a class="media-label" href="#">Відео</a>','<a class="media-label" href="#">Медіа</a>',"</div>","</div>"]);getData("GET",ROOT,function(e,a){e?alert(e.message):mediaTemplate.render(a,function(e,a){if(e)throw e;mediaWrap.innerHTML=a})})}window.onload=function(){var e=document.getElementById("data");if(e){var a=new Template(['<div class="analytics">',"<h2>",'<a href="" class="content-title">{{ title }}</a>',"</h2>",'<span class="date">{{ date }}</span>','<div class="slider-analytics">','<div class="mySlides">','<img width="100%" height="auto" src="{{ url }}" alt="">','<div class="slider-discription">',"<span>{{ text }}</span>","</div>","</div>","</div>",'<div class="marks">',"<span>Мітка:</span>",'<a href="" class="mark-analitic">{{ label }}</a>',"</div>","</div>"]);getData("GET","json/news.json",function(t,i){t?alert(t.message):a.render(i,function(a,t){if(a)throw a;e.innerHTML=t})})}};