function getData(e,t,a){var s=new XMLHttpRequest;s.onload=function(){if(200===s.status){var e=s.responseText,t=JSON.parse(e);a(null,t)}},s.onerror=function(){var e=new Error("XHR failed");a(e,null)},s.open(e,t,!0),s.send(null)}function TemplateError(e){this.name="Template Error",this.message=e||"prop is undefined"}function Template(e){this.template=e}function menu_toggle(e){e.classList.toggle("show")}function showNews(){document.getElementById("all-news").style.display="none";getData("GET","json/data.json",function(e,t){e?alert(e.message):newsTemplate.render(t,function(e,t){if(e)throw e;console.log(t),newsWrap.insertAdjacentHTML("beforeend",t)})})}function plusDivs(e){showDivs(slideIndex+=e)}function showDivs(e){var t,a=document.getElementsByClassName("slide");for(e>a.length&&(slideIndex=1),e<1&&(slideIndex=a.length),t=0;t<a.length;t++)a[t].style.display="none";a[slideIndex-1].style.display="flex"}TemplateError.prototype=Object.create(Error.prototype),Template.prototype.render=function(e,t){if(Array.isArray(e)){var a="",s=this;e.forEach(function(n,i){var l=s.template.join("\n").replace(/\{{(.+?)\}}/gi,function(e,a,s){if(n[a.trim()])return n[a.trim()];var i=new TemplateError(a.trim()+" is undefined");t(i,null)});a+=l,i>=e.length-1&&t(null,a)})}else{a=this.template.join("\n").replace(/\{{(.+?)\}}/gi,function(a,s,n){if(e[s.trim()])return e[s.trim()];var i=new TemplateError(s.trim()+" is undefined");t(i,null)});t(null,a)}};var newsWrap=document.getElementById("news-wrapper"),newsTemplate=new Template(['<div class="news-item">','<a href="#">','<img class="news-image" src="{{ image }}" alt="inf">',"</a>",'<a class="item-title" href="#">',"<h4>{{ title }}</h4>","</a>",'<p class="item-description">{{ text }}</p>',"</div>"]);newsWrap&&getData("GET",ROOT="json/data.json",function(e,t){e?alert(e.message):(newsWrap.innerHTML='<img src="../img/preloader.gif" alt="preloader">',setTimeout(function(){newsTemplate.render(t,function(e,t){if(e)throw e;newsWrap.innerHTML=t})},3e3))});var slideIndex=1,sliderWrap=document.getElementById("slider");if(sliderWrap){var ROOT="json/slider.json",sliderTemplate=new Template(['<div class="slide row">','<div class="col-sm-7 col-xs-12">','<img class="slide-image" src="{{ image }}" alt="">',"</div>",'<div class="col-sm-5 col-xs-12">','<h3 class="slide-title">{{ title }}</h3>','<p class="slide-description">{{ text }}</p>','<div class="nav-carousel">','<button type="button" class="prev" onclick="plusDivs(-1)">&#10094;</button>','<button type="button" class="next" onclick="plusDivs(1)">&#10095;</button>',"</div>","</div>","</div>"]);getData("GET",ROOT,function(e,t){e?alert(e.message):sliderTemplate.render(t,function(e,t){if(e)throw e;sliderWrap.innerHTML=t,showDivs(slideIndex)})})}var mediaWrap=document.getElementById("media-blocks");if(mediaWrap){var ROOT="json/media.json",mediaTemplate=new Template(["<div>",'<a class="madia-title" href="#">',"<h3>{{ title }}</h3>","</a>",'<div class="media-info">','<span class="date-media">{{ date }}</span>',"</div>",'<div class="media-content">','<iframe src="{{ src }}" width="560" height="315" frameborder="0" allowfullscreen></iframe>',"</div>",'<div class="tags">',"<div>Мітки:</div>",'<a class="media-label" href="#">Відео</a>','<a class="media-label" href="#">Медіа</a>',"</div>","</div>"]);getData("GET",ROOT,function(e,t){e?alert(e.message):mediaTemplate.render(t,function(e,t){if(e)throw e;mediaWrap.innerHTML=t})})}window.onload=function(){var e=document.getElementById("data");if(e){var t=new Template(['<div class="analytics">',"<h2>",'<a href="" class="content-title">{{ title }}</a>',"</h2>",'<span class="date">{{ date }}</span>','<div class="slider-analytics">','<div class="mySlides">','<img width="100%" height="auto" src="{{ url }}" alt="">','<div class="slider-discription">',"<span>{{ text }}</span>","</div>","</div>","</div>",'<div class="marks">',"<span>Мітка:</span>",'<a href="" class="mark-analitic">{{ label }}</a>',"</div>","</div>"]);getData("GET","json/news.json",function(a,s){a?alert(a.message):t.render(s,function(t,a){if(t)throw t;e.innerHTML=a})})}};