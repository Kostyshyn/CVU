function getData(e,t,r){var n=new XMLHttpRequest;n.onload=function(){if(200===n.status){var e=n.responseText,t=JSON.parse(e);r(null,t)}else{var i=new Error("XHR failed, status: "+n.status);r(i,null)}},n.onerror=function(){var e=new Error("XHR failed");r(e,null)},n.open(e,t),n.send(null)}function TemplateError(e){this.name="Template Error",this.message=e||"prop is undefined"}function Template(e){this.template=e}TemplateError.prototype=Object.create(Error.prototype),Template.prototype.render=function(e,t){if(Array.isArray(e)){var r="",n=this;e.forEach(function(i,o){var a=n.template.join("\n").replace(/\{{(.+?)\}}/gi,function(e,r,n){if(i[r.trim()])return i[r.trim()];var o=new TemplateError(r.trim()+" is undefined");t(o,null)});r+=a,o>=e.length-1&&t(null,r)})}else{r=this.template.join("\n").replace(/\{{(.+?)\}}/gi,function(r,n,i){if(e[n.trim()])return e[n.trim()];var o=new TemplateError(n.trim()+" is undefined");t(o,null)});t(null,r)}},window.onload=function(){var e=document.getElementById("data"),t=new Template(['<div class="info">',"<h3>User id: {{ userId }}</h3>","<h1>{{ title }}</h1>","<hr>","<p>{{ body }}</p>","</div>"]);getData("GET","https://jsonplaceholder.typicode.com/posts",function(r,n){r?alert(r.message):t.render(n,function(t,r){if(t)throw t;e.innerHTML=r})})};