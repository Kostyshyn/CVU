function getData(e,t,n){var r=new XMLHttpRequest;r.onload=function(){var e=r.responseText,t=JSON.parse(e);n(t)},r.open(e,t),r.send(null)}function TemplateError(e){this.name="Template Error",this.message=e||"prop is undefined"}function Template(e){this.template=e}TemplateError.prototype=Object.create(Error.prototype),Template.prototype.render=function(e,t){if(Array.isArray(e)){var n="",r=this;e.forEach(function(i,o){var a=r.template.join("\n").replace(/\{{(.+?)\}}/gi,function(e,n,r){if(i[n.trim()])return i[n.trim()];var o=new TemplateError(n.trim()+" is undefined");t(o,null)});n+=a,o>=e.length-1&&t(null,n)})}else{n=this.template.join("\n").replace(/\{{(.+?)\}}/gi,function(n,r,i){if(e[r.trim()])return e[r.trim()];var o=new TemplateError(r.trim()+" is undefined");t(o,null)});t(null,n)}},window.onload=function(){var e=document.getElementById("btn"),t=document.getElementById("data"),n=(document.getElementById("input"),new Template(['<div class="info">',"<h3>User id: {{ userId }}</h3>","<h1>{{ title }}</h1>","<hr>","<p>{{ body }}</p>","</div>"]));e.addEventListener("click",function(){getData("GET","https://jsonplaceholder.typicode.com/posts",function(e){n.render(e,function(e,n){if(e)throw e;t.innerHTML=n})})})};